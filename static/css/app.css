/* ==========================================================================
   3SONIC â€“ Modern Dark Theme (Montserrat Light + uniform buttons + thin footer)
   ========================================================================== */

*,
*::before,
*::after { box-sizing: border-box; margin: 0; padding: 0; }

/* ---- Typography ---- */
:root {
  --font-ui: 'Montserrat', 'Segoe UI', system-ui, -apple-system, sans-serif;
}

html, body {
  height: 100%;
  font-family: var(--font-ui);
  font-weight: 300;            /* Montserrat Light */
  letter-spacing: 0.2px;
  background: var(--bg-dark);
  color: var(--text);
  line-height: 1.5;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* ---- Theme tokens ---- */
:root{
  --bg-dark:#0a0e14;
  --bg-card:rgba(20,25,35,.85);
  --bg-header:#051a25;

  /* Fonts are white across the UI */
  --primary:#ffffff;           /* headings / accents */
  --text:#ffffff;
  --text-dim:#c0c9d4;

  --border:rgba(255,255,255,.10);
  --glass-border:rgba(255,255,255,.08);

  --radius:12px; --radius-sm:8px;
  --shadow:0 8px 32px rgba(0,0,0,.4);
  --shadow-sm:0 4px 16px rgba(0,0,0,.3);
  --transition:all .25s ease;
}

/* ----------------------------- Layout ----------------------------- */

header{
  background:var(--bg-header);
  display:flex; align-items:center; justify-content:space-between;
  padding:.6rem 1rem;
  box-shadow:var(--shadow);
  z-index:10;
  border-bottom:1px solid var(--border);
}

header .logo{ height:42px; object-fit:contain; filter:brightness(1.2); }

nav ul{ display:flex; gap:.6rem; list-style:none; }

main{
  flex:1;
  display:grid;
  grid-template-columns:300px 1fr 300px;
  gap:1.25rem;
  padding:1.25rem;
  overflow:hidden;
}

/* ultra-thin footer */
footer{
  background:var(--bg-header);
  padding:.25rem .75rem;      /* thinner */
  min-height:32px;            /* compact footer */
  font-size:.72rem;
  display:flex; justify-content:space-between; align-items:center;
  border-top:1px solid var(--border);
}
footer p{ color:var(--text-dim); }

/* ----------------------------- Cards ----------------------------- */

.card,.scanner-controls,.rendering-controls{
  background:var(--bg-card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:1.25rem;
  border:1px solid var(--glass-border);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
}

.scanner-display .card{
  padding:0; overflow:hidden; display:flex; flex-direction:column;
}

.card-header{
  padding:1rem 1.25rem;
  border-bottom:1px solid var(--border);
  font-weight:300;             /* keep Light weight */
  color:var(--primary);
  display:flex; align-items:center; gap:.5rem;
}

.card-content{ flex:1; padding:1.25rem; }

.scanner-display .card-image{
  display:flex; justify-content:center; align-items:center;
  background:#0a0a0a; border-radius:8px; overflow:hidden; height:100%;
}

.dispimg_us{ max-width:100%; max-height:75vh; object-fit:contain; transition:transform .3s ease; }
.dispimg_us:hover{ transform:scale(1.02); }

/* ----------------------------- Buttons (UNIFIED STYLE) ------------ */

.button{
  /* single dark style used everywhere */
  background:linear-gradient(to bottom, rgba(45,50,60,.95), rgba(20,22,26,.95));
  color:var(--text);
  border:1px solid var(--glass-border);
  border-radius:var(--radius-sm);
  padding:.7rem 1rem;
  font-size:.9rem;
  font-weight:300;             /* Light */
  cursor:pointer;
  transition:var(--transition);
  display:flex; align-items:center; justify-content:center;
  gap:.5rem; width:100%;
}
.button:hover{
  background:linear-gradient(to bottom, rgba(65,70,80,.95), rgba(30,32,36,.95));
  border-color:rgba(255,255,255,.18);
  transform:translateY(-2px);
  box-shadow:var(--shadow-sm);
}
.button:active{ transform:translateY(0); }
.button:disabled,.button.is-loading{ opacity:.6; pointer-events:none; }

/* Make Start Scan + Dual Sweep match axis buttons with stronger borders */
.start-scan-button,
.multi-path-button{
  border-color: rgba(255,255,255,.22);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.06),
    inset 0 -1px 0 rgba(0,0,0,.35);
}

/* Optional utility if you also add class="axis-style" in HTML */
.axis-style{
  border: 1px solid rgba(255,255,255,.22);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.06),
    inset 0 -1px 0 rgba(0,0,0,.35);
}
.axis-style:hover{
  border-color: rgba(255,255,255,.30);
}

/* Exit button (same color; subtle danger hover ring) */
.exit-button{ width:auto; padding:.45rem .85rem; }
.exit-button:hover{ box-shadow:0 0 0 2px rgba(255,95,86,.25); }

/* Header toggle buttons share same dark style */
.icon-button{
  display:flex; align-items:center; gap:.5rem;
  padding:.55rem .9rem; width:auto;
  background:linear-gradient(to bottom, rgba(45,50,60,.95), rgba(20,22,26,.95));
  color:var(--text);
  border:1px solid var(--glass-border);
  border-radius:var(--radius-sm);
  transition:var(--transition);
}
.icon-button img.icon{ height:20px; width:20px; filter:invert(1) brightness(1.4); }
.icon-button:hover{
  background:linear-gradient(to bottom, rgba(65,70,80,.95), rgba(30,32,36,.95));
  border-color:rgba(255,255,255,.18);
  transform:translateY(-2px);
  box-shadow:var(--shadow-sm);
}
.icon-button.active{ outline:2px solid rgba(0,208,176,.35); } /* subtle accent ring */

/* ----------------------------- Controls ----------------------------- */

.scan-buttons{
  display:grid; grid-template-columns:1fr 1fr;
  gap:.75rem; margin-bottom:1.5rem;
}

.automatic-controls, .manual-adjustments, .rendering-controls{ margin-top:1.5rem; }

.automatic-controls h2, .manual-adjustments h2, .rendering-controls h2{
  font-size:1rem; font-weight:300; color:var(--primary);
  margin-bottom:1rem; display:flex; align-items:center; gap:.5rem;
}
.automatic-controls h2::before,
.manual-adjustments h2::before,
.rendering-controls h2::before{
  content:""; display:block; width:4px; height:16px; background:var(--primary); border-radius:2px;
}

/* D-Pad */
.dpad{
  display:grid;
  grid-template-columns:48px 1fr 48px;
  grid-template-rows:42px 48px 42px;
  gap:6px; align-items:center; justify-items:center;
  max-width:260px; margin:.5rem auto 1rem;
}
.dpad-btn i{ font-size:1.1rem; }
.dpad-up,.dpad-left,.dpad-right,.dpad-down{
  background:linear-gradient(to bottom, rgba(45,50,60,.95), rgba(20,22,26,.95));
}

/* Z buttons row */
.z-row{
  display:grid; grid-template-columns:1fr 1fr;
  gap:.5rem; max-width:260px; margin:0 auto .75rem;
}
.z-btn{ height:42px; font-size:.85rem; }

/* Rotation buttons side-by-side */
.rotation-row{ display:flex; gap:.5rem; justify-content:center; }

/* ----------------------------- Modal ----------------------------- */

.modal{
  position:fixed; inset:0; background:rgba(5,10,15,.9);
  display:none; place-items:center; z-index:1000;
  backdrop-filter:blur(4px); -webkit-backdrop-filter:blur(4px);
}
.modal-content{
  background:var(--bg-card); padding:2rem; border-radius:var(--radius);
  box-shadow:var(--shadow); color:var(--text); text-align:center;
  border:1px solid var(--glass-border); max-width:400px; width:90%;
}

/* ----------------------------- Responsive ----------------------------- */

@media (max-width:1200px){
  main{ grid-template-columns:250px 1fr; }
  .rendering-controls{ grid-column:span 2; margin-top:1rem; }
}
@media (max-width:900px){
  main{ grid-template-columns:1fr; gap:1rem; }
  .scanner-controls, .rendering-controls{ order:-1; }
}
@media (max-width:600px){
  main{ padding:1rem; }
  .card, .scanner-controls, .rendering-controls{ padding:1rem; }
  .button{ padding:.6rem .75rem; font-size:.85rem; }
  .scan-buttons{ grid-template-columns:1fr; }
  .dpad{ grid-template-columns:56px 1fr 56px; grid-template-rows:48px 56px 48px; gap:8px; max-width:300px; }
  .z-btn{ height:44px; }
}
